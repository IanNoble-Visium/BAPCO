<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TruContext‚Ñ¢ | BAPCO Operations Dashboard</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@barba/core"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/dashboard.css">
</head>
<body data-barba="wrapper">
    <!-- Preloader -->
    <div id="preloader">
        <div class="loader-container">
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-logo">
                <span class="logo-text">TruContext</span>
                <span class="logo-tm">‚Ñ¢</span>
            </div>
            <div class="loader-text">Initializing Systems...</div>
            <div class="loader-progress">
                <div class="loader-progress-bar"></div>
            </div>
        </div>
        <div class="particle-field" id="preloaderParticles"></div>
    </div>

    <!-- Navigation -->
    <nav id="mainNav" class="main-nav">
        <div class="nav-brand">
            <div class="brand-logo">
                <span class="logo-v">V</span>isium
            </div>
            <div class="brand-product">TruContext‚Ñ¢</div>
        </div>
        <div class="nav-links">
            <a href="#landing" class="nav-link active" data-page="landing">
                <span class="nav-icon">‚óâ</span>
                <span class="nav-text">Overview</span>
            </a>
            <a href="#facility" class="nav-link" data-page="facility">
                <span class="nav-icon">‚¨°</span>
                <span class="nav-text">3D Facility</span>
            </a>
            <a href="#process" class="nav-link" data-page="process">
                <span class="nav-icon">‚óà</span>
                <span class="nav-text">Process</span>
            </a>
            <a href="#equipment" class="nav-link" data-page="equipment">
                <span class="nav-icon">‚öô</span>
                <span class="nav-text">Equipment</span>
            </a>
            <a href="#safety" class="nav-link" data-page="safety">
                <span class="nav-icon">‚ö†</span>
                <span class="nav-text">Safety</span>
            </a>
            <a href="#cyber" class="nav-link" data-page="cyber">
                <span class="nav-icon">üõ°</span>
                <span class="nav-text">Cyber</span>
            </a>
        </div>
        <div class="nav-status">
            <div class="status-indicator online">
                <span class="status-dot"></span>
                <span class="status-text">LIVE</span>
            </div>
            <div class="datetime" id="navDateTime"></div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main data-barba="container" data-barba-namespace="home">
        
        <!-- Landing Section -->
        <section id="landing" class="page-section landing-section active">
            <div class="video-background">
                <div class="video-overlay"></div>
                <div class="gradient-overlay"></div>
                <canvas id="heroCanvas"></canvas>
            </div>
            
            <div class="landing-content">
                <div class="hero-text">
                    <div class="hero-badge">
                        <span class="badge-icon">‚óÜ</span>
                        <span>BAHRAIN PETROLEUM COMPANY</span>
                    </div>
                    <h1 class="hero-title">
                        <span class="title-line">Unified</span>
                        <span class="title-line highlight">Operations</span>
                        <span class="title-line">Intelligence</span>
                    </h1>
                    <p class="hero-subtitle">
                        AI-Driven Analytics ‚Ä¢ Digital Twins ‚Ä¢ Predictive Maintenance
                    </p>
                    <div class="hero-stats">
                        <div class="stat-card">
                            <div class="stat-value" data-count="380000">0</div>
                            <div class="stat-label">BPD Capacity</div>
                            <div class="stat-trend up">‚Üë 12%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-count="99.7">0</div>
                            <div class="stat-label">Uptime %</div>
                            <div class="stat-trend up">‚Üë 2.3%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-count="47">0</div>
                            <div class="stat-label">Active Alerts</div>
                            <div class="stat-trend down">‚Üì 31%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" data-count="156">0</div>
                            <div class="stat-label">Sensors Online</div>
                            <div class="stat-trend neutral">‚Üí</div>
                        </div>
                    </div>
                </div>
                
                <div class="hero-3d-container">
                    <canvas id="hero3DRefinery"></canvas>
                    <div class="hotspot-labels" id="heroHotspots"></div>
                </div>
            </div>
            
            <div class="scroll-indicator">
                <div class="scroll-mouse">
                    <div class="scroll-wheel"></div>
                </div>
                <span>Scroll to Explore</span>
            </div>
        </section>

        <!-- 3D Facility Section -->
        <section id="facility" class="page-section facility-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">‚¨°</span>
                    3D Facility Overview
                </h2>
                <div class="section-controls">
                    <button class="control-btn active" data-view="overview">Overview</button>
                    <button class="control-btn" data-view="thermal">Thermal</button>
                    <button class="control-btn" data-view="flow">Flow</button>
                    <button class="control-btn" data-view="alerts">Alerts</button>
                </div>
            </div>
            
            <div class="facility-container">
                <div class="facility-3d-viewport">
                    <canvas id="facility3DCanvas"></canvas>
                    <div class="viewport-controls">
                        <button class="viewport-btn" id="zoomIn">+</button>
                        <button class="viewport-btn" id="zoomOut">‚àí</button>
                        <button class="viewport-btn" id="resetView">‚ü≤</button>
                        <button class="viewport-btn" id="toggleRotate">‚óé</button>
                    </div>
                    <div class="compass-indicator">
                        <div class="compass-ring">
                            <span class="compass-n">N</span>
                            <span class="compass-e">E</span>
                            <span class="compass-s">S</span>
                            <span class="compass-w">W</span>
                        </div>
                        <div class="compass-needle" id="compassNeedle"></div>
                        <div class="compass-degrees" id="compassDegrees">315¬∞</div>
                    </div>
                </div>
                
                <div class="facility-sidebar">
                    <div class="sidebar-tabs">
                        <button class="tab-btn active" data-tab="sections">Sections</button>
                        <button class="tab-btn" data-tab="activity">Activity</button>
                        <button class="tab-btn" data-tab="labels">Labels</button>
                    </div>
                    
                    <div class="sidebar-content">
                        <div class="tab-content active" id="sectionsTab">
                            <div class="section-card" data-section="cdu">
                                <div class="section-header-mini">
                                    <span class="section-status operational"></span>
                                    <span class="section-name">CDU - Crude Distillation</span>
                                </div>
                                <div class="section-metrics">
                                    <div class="metric">
                                        <span class="metric-label">Throughput</span>
                                        <span class="metric-value">225,000 BPD</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Temperature</span>
                                        <span class="metric-value">365¬∞C</span>
                                    </div>
                                </div>
                                <div class="section-progress">
                                    <div class="progress-bar" style="--progress: 87%"></div>
                                </div>
                            </div>
                            
                            <div class="section-card" data-section="rhcu">
                                <div class="section-header-mini">
                                    <span class="section-status warning"></span>
                                    <span class="section-name">RHCU - Hydrocracking</span>
                                </div>
                                <div class="section-metrics">
                                    <div class="metric">
                                        <span class="metric-label">Throughput</span>
                                        <span class="metric-value">65,000 BPD</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Pressure</span>
                                        <span class="metric-value">2,150 PSI</span>
                                    </div>
                                </div>
                                <div class="section-progress">
                                    <div class="progress-bar" style="--progress: 72%"></div>
                                </div>
                            </div>
                            
                            <div class="section-card" data-section="storage">
                                <div class="section-header-mini">
                                    <span class="section-status operational"></span>
                                    <span class="section-name">Tank Farm - Storage</span>
                                </div>
                                <div class="section-metrics">
                                    <div class="metric">
                                        <span class="metric-label">Capacity</span>
                                        <span class="metric-value">2.4M BBL</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Utilization</span>
                                        <span class="metric-value">78%</span>
                                    </div>
                                </div>
                                <div class="section-progress">
                                    <div class="progress-bar" style="--progress: 78%"></div>
                                </div>
                            </div>
                            
                            <div class="section-card" data-section="utilities">
                                <div class="section-header-mini">
                                    <span class="section-status operational"></span>
                                    <span class="section-name">Utilities & Power</span>
                                </div>
                                <div class="section-metrics">
                                    <div class="metric">
                                        <span class="metric-label">Power Load</span>
                                        <span class="metric-value">145 MW</span>
                                    </div>
                                    <div class="metric">
                                        <span class="metric-label">Steam</span>
                                        <span class="metric-value">890 T/H</span>
                                    </div>
                                </div>
                                <div class="section-progress">
                                    <div class="progress-bar" style="--progress: 91%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="activityTab">
                            <div class="activity-list" id="activityList">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                        
                        <div class="tab-content" id="labelsTab">
                            <div class="labels-filter">
                                <span class="filter-label">Filter by Tag:</span>
                                <div class="filter-tags">
                                    <button class="tag-btn active">All</button>
                                    <button class="tag-btn">Critical</button>
                                    <button class="tag-btn">Maintenance</button>
                                    <button class="tag-btn">Safety</button>
                                </div>
                            </div>
                            <div class="labels-list" id="labelsList">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Process Monitoring Section -->
        <section id="process" class="page-section process-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">‚óà</span>
                    Process Monitoring
                </h2>
                <div class="time-range-selector">
                    <button class="range-btn" data-range="1h">1H</button>
                    <button class="range-btn active" data-range="24h">24H</button>
                    <button class="range-btn" data-range="7d">7D</button>
                    <button class="range-btn" data-range="30d">30D</button>
                </div>
            </div>
            
            <div class="process-grid">
                <!-- KPI Cards Row -->
                <div class="kpi-row">
                    <div class="kpi-card">
                        <div class="kpi-icon">üõ¢Ô∏è</div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="kpiProduction">0</div>
                            <div class="kpi-label">Production Rate (BPD)</div>
                        </div>
                        <div class="kpi-chart">
                            <canvas id="kpiProductionChart"></canvas>
                        </div>
                        <div class="kpi-trend up">+3.2%</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-icon">‚ö°</div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="kpiEfficiency">0%</div>
                            <div class="kpi-label">Yield Efficiency</div>
                        </div>
                        <div class="kpi-chart">
                            <canvas id="kpiEfficiencyChart"></canvas>
                        </div>
                        <div class="kpi-trend up">+1.8%</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-icon">üî•</div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="kpiEnergy">0</div>
                            <div class="kpi-label">Energy (MWh)</div>
                        </div>
                        <div class="kpi-chart">
                            <canvas id="kpiEnergyChart"></canvas>
                        </div>
                        <div class="kpi-trend down">-2.1%</div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-icon">üíß</div>
                        <div class="kpi-content">
                            <div class="kpi-value" id="kpiWater">0</div>
                            <div class="kpi-label">Water Usage (m¬≥)</div>
                        </div>
                        <div class="kpi-chart">
                            <canvas id="kpiWaterChart"></canvas>
                        </div>
                        <div class="kpi-trend down">-5.4%</div>
                    </div>
                </div>
                
                <!-- Distillation Tower Visualization -->
                <div class="tower-visualization">
                    <div class="tower-header">
                        <h3>Crude Distillation Unit (CDU-1)</h3>
                        <div class="tower-status operational">
                            <span class="status-dot"></span>
                            Operational
                        </div>
                    </div>
                    <div class="tower-container">
                        <canvas id="towerCanvas"></canvas>
                        <div class="tower-readings" id="towerReadings">
                            <!-- Dynamic readings positioned by JS -->
                        </div>
                    </div>
                    <div class="tower-legend">
                        <div class="legend-item"><span class="legend-color" style="background: #ff6b6b"></span>Heavy Residue</div>
                        <div class="legend-item"><span class="legend-color" style="background: #ffd93d"></span>Diesel</div>
                        <div class="legend-item"><span class="legend-color" style="background: #6bcb77"></span>Kerosene</div>
                        <div class="legend-item"><span class="legend-color" style="background: #4d96ff"></span>Naphtha</div>
                        <div class="legend-item"><span class="legend-color" style="background: #9d4edd"></span>LPG</div>
                    </div>
                </div>
                
                <!-- Real-time Charts Grid -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h4>Temperature Profile</h4>
                            <div class="chart-actions">
                                <button class="chart-btn">üìä</button>
                                <button class="chart-btn">‚¨áÔ∏è</button>
                            </div>
                        </div>
                        <canvas id="temperatureChart"></canvas>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-header">
                            <h4>Pressure Monitoring</h4>
                            <div class="chart-actions">
                                <button class="chart-btn">üìä</button>
                                <button class="chart-btn">‚¨áÔ∏è</button>
                            </div>
                        </div>
                        <canvas id="pressureChart"></canvas>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-header">
                            <h4>Flow Rates</h4>
                            <div class="chart-actions">
                                <button class="chart-btn">üìä</button>
                                <button class="chart-btn">‚¨áÔ∏è</button>
                            </div>
                        </div>
                        <canvas id="flowChart"></canvas>
                    </div>
                    
                    <div class="chart-card">
                        <div class="chart-header">
                            <h4>Product Yield Distribution</h4>
                            <div class="chart-actions">
                                <button class="chart-btn">üìä</button>
                                <button class="chart-btn">‚¨áÔ∏è</button>
                            </div>
                        </div>
                        <canvas id="yieldChart"></canvas>
                    </div>
                </div>
                
                <!-- Gauges Row -->
                <div class="gauges-row">
                    <div class="gauge-container">
                        <canvas id="gauge1"></canvas>
                        <div class="gauge-label">Reactor Temp</div>
                        <div class="gauge-value" id="gaugeValue1">425¬∞C</div>
                    </div>
                    <div class="gauge-container">
                        <canvas id="gauge2"></canvas>
                        <div class="gauge-label">Column Pressure</div>
                        <div class="gauge-value" id="gaugeValue2">2.4 Bar</div>
                    </div>
                    <div class="gauge-container">
                        <canvas id="gauge3"></canvas>
                        <div class="gauge-label">Feed Rate</div>
                        <div class="gauge-value" id="gaugeValue3">9,375 BPH</div>
                    </div>
                    <div class="gauge-container">
                        <canvas id="gauge4"></canvas>
                        <div class="gauge-label">Reflux Ratio</div>
                        <div class="gauge-value" id="gaugeValue4">3.2:1</div>
                    </div>
                    <div class="gauge-container">
                        <canvas id="gauge5"></canvas>
                        <div class="gauge-label">Steam Flow</div>
                        <div class="gauge-value" id="gaugeValue5">45 T/H</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Equipment Health Section -->
        <section id="equipment" class="page-section equipment-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">‚öô</span>
                    Equipment Health & Predictive Maintenance
                </h2>
                <div class="ai-indicator">
                    <span class="ai-pulse"></span>
                    AI Analytics Active
                </div>
            </div>
            
            <div class="equipment-grid">
                <!-- Equipment Overview Cards -->
                <div class="equipment-overview">
                    <div class="overview-card total">
                        <div class="overview-icon">üì¶</div>
                        <div class="overview-value">1,247</div>
                        <div class="overview-label">Total Assets</div>
                    </div>
                    <div class="overview-card healthy">
                        <div class="overview-icon">‚úÖ</div>
                        <div class="overview-value">1,156</div>
                        <div class="overview-label">Healthy</div>
                    </div>
                    <div class="overview-card warning">
                        <div class="overview-icon">‚ö†Ô∏è</div>
                        <div class="overview-value">67</div>
                        <div class="overview-label">Warning</div>
                    </div>
                    <div class="overview-card critical">
                        <div class="overview-icon">üî¥</div>
                        <div class="overview-value">24</div>
                        <div class="overview-label">Critical</div>
                    </div>
                </div>
                
                <!-- 3D Equipment Viewer -->
                <div class="equipment-viewer">
                    <div class="viewer-header">
                        <h3>ESP Pump Assembly - Well A-14</h3>
                        <div class="viewer-controls">
                            <button class="viewer-btn active" data-view="exterior">Exterior</button>
                            <button class="viewer-btn" data-view="cutaway">Cutaway</button>
                            <button class="viewer-btn" data-view="exploded">Exploded</button>
                        </div>
                    </div>
                    <canvas id="equipmentCanvas"></canvas>
                    <div class="viewer-info">
                        <div class="info-item">
                            <span class="info-label">Model</span>
                            <span class="info-value">ESP-540X</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Installed</span>
                            <span class="info-value">2023-06-15</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Runtime</span>
                            <span class="info-value">8,760 hrs</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">RUL</span>
                            <span class="info-value warning">2,340 hrs</span>
                        </div>
                    </div>
                </div>
                
                <!-- Predictive Analytics Panel -->
                <div class="predictive-panel">
                    <div class="panel-header">
                        <h3>Predictive Maintenance Alerts</h3>
                        <span class="alert-count">12 Active</span>
                    </div>
                    <div class="prediction-list" id="predictionList">
                        <!-- Populated by JS -->
                    </div>
                </div>
                
                <!-- Health Trend Charts -->
                <div class="health-charts">
                    <div class="health-chart-card">
                        <h4>Vibration Analysis</h4>
                        <canvas id="vibrationChart"></canvas>
                    </div>
                    <div class="health-chart-card">
                        <h4>Motor Current Signature</h4>
                        <canvas id="motorChart"></canvas>
                    </div>
                    <div class="health-chart-card">
                        <h4>Bearing Temperature</h4>
                        <canvas id="bearingChart"></canvas>
                    </div>
                    <div class="health-chart-card">
                        <h4>Remaining Useful Life</h4>
                        <canvas id="rulChart"></canvas>
                    </div>
                </div>
                
                <!-- Asset Table -->
                <div class="asset-table-container">
                    <div class="table-header">
                        <h3>Critical Assets Monitoring</h3>
                        <div class="table-search">
                            <input type="text" placeholder="Search assets..." id="assetSearch">
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table class="asset-table" id="assetTable">
                            <thead>
                                <tr>
                                    <th>Asset ID</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Health Score</th>
                                    <th>RUL (hrs)</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="assetTableBody">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Safety & Emissions Section -->
        <section id="safety" class="page-section safety-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">‚ö†</span>
                    Safety & Environmental Compliance
                </h2>
                <div class="compliance-badge">
                    <span class="badge-icon">‚úì</span>
                    Bahrain Vision 2030 Aligned
                </div>
            </div>
            
            <div class="safety-grid">
                <!-- Safety KPIs -->
                <div class="safety-kpis">
                    <div class="safety-kpi-card">
                        <div class="kpi-ring" id="safetyRing1">
                            <svg viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="45" class="ring-bg"/>
                                <circle cx="50" cy="50" r="45" class="ring-progress" style="--progress: 0.95"/>
                            </svg>
                            <div class="ring-value">847</div>
                        </div>
                        <div class="kpi-info">
                            <div class="kpi-title">Days Without LTI</div>
                            <div class="kpi-subtitle">Lost Time Incident</div>
                        </div>
                    </div>
                    
                    <div class="safety-kpi-card">
                        <div class="kpi-ring" id="safetyRing2">
                            <svg viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="45" class="ring-bg"/>
                                <circle cx="50" cy="50" r="45" class="ring-progress" style="--progress: 0.88"/>
                            </svg>
                            <div class="ring-value">98.2%</div>
                        </div>
                        <div class="kpi-info">
                            <div class="kpi-title">Safety Compliance</div>
                            <div class="kpi-subtitle">Regulatory Standards</div>
                        </div>
                    </div>
                    
                    <div class="safety-kpi-card">
                        <div class="kpi-ring warning" id="safetyRing3">
                            <svg viewBox="0 0 100 100">
                                <circle cx="50" cy="50" r="45" class="ring-bg"/>
                                <circle cx="50" cy="50" r="45" class="ring-progress" style="--progress: 0.72"/>
                            </svg>
                            <div class="ring-value">3</div>
                        </div>
                        <div class="kpi-info">
                            <div class="kpi-title">Active Hazards</div>
                            <div class="kpi-subtitle">Under Monitoring</div>
                        </div>
                    </div>
                </div>
                
                <!-- Emissions Dashboard -->
                <div class="emissions-dashboard">
                    <div class="emissions-header">
                        <h3>Emissions Monitoring (Scope 1 & 2)</h3>
                        <div class="emissions-period">
                            <span>Jan 2026</span>
                            <span class="trend down">‚Üì 12% YoY</span>
                        </div>
                    </div>
                    
                    <div class="emissions-charts">
                        <div class="emission-card">
                            <div class="emission-icon nox">NOx</div>
                            <div class="emission-value">142</div>
                            <div class="emission-unit">tonnes/month</div>
                            <div class="emission-bar">
                                <div class="bar-fill" style="--fill: 65%"></div>
                                <div class="bar-limit">Limit: 220</div>
                            </div>
                        </div>
                        
                        <div class="emission-card">
                            <div class="emission-icon sox">SOx</div>
                            <div class="emission-value">89</div>
                            <div class="emission-unit">tonnes/month</div>
                            <div class="emission-bar">
                                <div class="bar-fill" style="--fill: 45%"></div>
                                <div class="bar-limit">Limit: 200</div>
                            </div>
                        </div>
                        
                        <div class="emission-card">
                            <div class="emission-icon voc">VOC</div>
                            <div class="emission-value">34</div>
                            <div class="emission-unit">tonnes/month</div>
                            <div class="emission-bar">
                                <div class="bar-fill" style="--fill: 34%"></div>
                                <div class="bar-limit">Limit: 100</div>
                            </div>
                        </div>
                        
                        <div class="emission-card">
                            <div class="emission-icon co2">CO‚ÇÇ</div>
                            <div class="emission-value">45.2K</div>
                            <div class="emission-unit">tonnes/month</div>
                            <div class="emission-bar">
                                <div class="bar-fill warning" style="--fill: 82%"></div>
                                <div class="bar-limit">Target: 55K</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="emissions-trend-chart">
                        <canvas id="emissionsChart"></canvas>
                    </div>
                </div>
                
                <!-- Geofenced Personnel Map -->
                <div class="personnel-map">
                    <div class="map-header">
                        <h3>Personnel Tracking & Geofencing</h3>
                        <div class="personnel-count">
                            <span class="count-value">247</span>
                            <span class="count-label">On-site</span>
                        </div>
                    </div>
                    <div class="map-container">
                        <canvas id="personnelMap"></canvas>
                        <div class="map-legend">
                            <div class="legend-item"><span class="dot green"></span>Safe Zone</div>
                            <div class="legend-item"><span class="dot yellow"></span>Caution Zone</div>
                            <div class="legend-item"><span class="dot red"></span>Restricted Zone</div>
                        </div>
                    </div>
                </div>
                
                <!-- Active Alerts Panel -->
                <div class="alerts-panel">
                    <div class="alerts-header">
                        <h3>Safety Alerts</h3>
                        <div class="alerts-filter">
                            <button class="filter-btn active">All</button>
                            <button class="filter-btn">Critical</button>
                            <button class="filter-btn">Warning</button>
                        </div>
                    </div>
                    <div class="alerts-list" id="safetyAlertsList">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Cyber Security Section -->
        <section id="cyber" class="page-section cyber-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="title-icon">üõ°</span>
                    IT/OT Cybersecurity Operations
                </h2>
                <div class="threat-level">
                    <span class="threat-label">Threat Level:</span>
                    <span class="threat-value elevated">ELEVATED</span>
                </div>
            </div>
            
            <div class="cyber-grid">
                <!-- Security Posture Overview -->
                <div class="security-posture">
                    <div class="posture-header">
                        <h3>Security Posture</h3>
                        <div class="posture-score">
                            <span class="score-value">87</span>
                            <span class="score-max">/100</span>
                        </div>
                    </div>
                    <div class="posture-metrics">
                        <div class="posture-metric">
                            <div class="metric-bar">
                                <div class="bar-fill" style="--fill: 92%"></div>
                            </div>
                            <span class="metric-label">Network Security</span>
                            <span class="metric-value">92%</span>
                        </div>
                        <div class="posture-metric">
                            <div class="metric-bar">
                                <div class="bar-fill" style="--fill: 88%"></div>
                            </div>
                            <span class="metric-label">Endpoint Protection</span>
                            <span class="metric-value">88%</span>
                        </div>
                        <div class="posture-metric">
                            <div class="metric-bar">
                                <div class="bar-fill" style="--fill: 85%"></div>
                            </div>
                            <span class="metric-label">SCADA Security</span>
                            <span class="metric-value">85%</span>
                        </div>
                        <div class="posture-metric">
                            <div class="metric-bar">
                                <div class="bar-fill warning" style="--fill: 78%"></div>
                            </div>
                            <span class="metric-label">Access Control</span>
                            <span class="metric-value">78%</span>
                        </div>
                    </div>
                </div>
                
                <!-- Network Topology -->
                <div class="network-topology">
                    <div class="topology-header">
                        <h3>Network Topology</h3>
                        <div class="topology-controls">
                            <button class="topo-btn active">IT</button>
                            <button class="topo-btn">OT</button>
                            <button class="topo-btn">Combined</button>
                        </div>
                    </div>
                    <canvas id="networkCanvas"></canvas>
                </div>
                
                <!-- Threat Detection -->
                <div class="threat-detection">
                    <div class="detection-header">
                        <h3>Real-time Threat Detection</h3>
                        <div class="detection-stats">
                            <span class="stat blocked">247 Blocked</span>
                            <span class="stat detected">12 Detected</span>
                        </div>
                    </div>
                    <div class="threat-feed" id="threatFeed">
                        <!-- Populated by JS -->
                    </div>
                </div>
                
                <!-- SCADA Anomaly Detection -->
                <div class="scada-anomaly">
                    <div class="anomaly-header">
                        <h3>SCADA Anomaly Detection</h3>
                        <div class="ai-badge">
                            <span class="ai-icon">ü§ñ</span>
                            TruContext AI
                        </div>
                    </div>
                    <canvas id="anomalyChart"></canvas>
                    <div class="anomaly-legend">
                        <div class="legend-item"><span class="dot normal"></span>Normal Pattern</div>
                        <div class="legend-item"><span class="dot anomaly"></span>Anomaly Detected</div>
                        <div class="legend-item"><span class="dot threshold"></span>Threshold</div>
                    </div>
                </div>
                
                <!-- Incident Timeline -->
                <div class="incident-timeline">
                    <div class="timeline-header">
                        <h3>Incident Timeline</h3>
                        <div class="timeline-range">Last 24 Hours</div>
                    </div>
                    <div class="timeline-container" id="incidentTimeline">
                        <!-- Populated by JS -->
                    </div>
                </div>
                
                <!-- Access Audit Log -->
                <div class="audit-log">
                    <div class="audit-header">
                        <h3>Access Audit Log</h3>
                        <button class="export-btn">Export</button>
                    </div>
                    <div class="audit-table-wrapper">
                        <table class="audit-table">
                            <thead>
                                <tr>
                                    <th>Timestamp</th>
                                    <th>User</th>
                                    <th>Action</th>
                                    <th>Resource</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="auditTableBody">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Notification Toast Container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Modal Container -->
    <div id="modalContainer" class="modal-container">
        <div class="modal-backdrop"></div>
        <div class="modal-content" id="modalContent">
            <!-- Dynamic modal content -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/mockData.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/three-scenes.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
